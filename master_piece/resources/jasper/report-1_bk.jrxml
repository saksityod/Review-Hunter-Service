<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="report-1" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="3fcfe5e6-299c-4196-bd36-a63955b6b1dd">
	<property name="ireport.zoom" value="1.464100000000004"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="432"/>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_To" mode="Opaque" backcolor="#EBEDEF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2">
		<box>
			<pen lineWidth="1.0" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 2_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 2_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 2_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 3">
		<box>
			<pen lineWidth="1.0" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 3_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 3_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 3_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 4">
		<box>
			<topPen lineWidth="1.0" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="1.0" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 4_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 4_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 4_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 5">
		<box>
			<pen lineWidth="1.0" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 5_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 5_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 5_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 6">
		<box>
			<pen lineWidth="1.0" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 6_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 6_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 6_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="Crosstab Data Text" hAlign="Center"/>
	<style name="table 7">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 7_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 7_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 7_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 8">
		<box>
			<pen lineWidth="1.0" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 8_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 8_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 8_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<subDataset name="ChartPie" uuid="6fc527cf-8c93-462c-abc7-60268e352626">
		<parameter name="param_year" class="java.lang.Integer"/>
		<parameter name="param_month" class="java.lang.Integer"/>
		<queryString>
			<![CDATA[select 'ผ่าน' as status, count(distinct pc.vn_no) as no_of_case
from patient_case pc, case_stage cs
where pc.case_id = cs.case_id
and from_stage_id > 6 and from_stage_id < 201
and YEAR(cs.actual_date) = $P{param_year} AND MONTH(cs.actual_date) = $P{param_month}
union all
select 'ไม่ผ่าน' as status, count(distinct pc.vn_no) as no_of_case
from patient_case pc, case_stage cs
where pc.case_id = cs.case_id
and from_stage_id <= 6
and YEAR(cs.actual_date) = $P{param_year} AND MONTH(cs.actual_date) = $P{param_month}]]>
		</queryString>
		<field name="status" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="no_of_case" class="java.lang.Long"/>
		<variable name="toto_sum" class="java.lang.Integer" calculation="Sum">
			<variableExpression><![CDATA[$F{no_of_case}]]></variableExpression>
		</variable>
	</subDataset>
	<subDataset name="detail_case" uuid="9b8412ed-69d0-4d9c-8caf-10f803d32f56">
		<parameter name="param_year" class="java.lang.Integer"/>
		<parameter name="param_month" class="java.lang.Integer"/>
		<queryString>
			<![CDATA[select at.txt_name,at.case_type, sum(at.target) as total
from
(select  ct.case_type as case_type,
CASE $P{param_month}
  when 1 then sum(dt.target_month1)
  when 2 then sum(dt.target_month2)
  when 3 then sum(dt.target_month3)
  when 4 then sum(dt.target_month4)
  when 5 then sum(dt.target_month5)
  when 6 then sum(dt.target_month6)
  when 7 then sum(dt.target_month7)
  when 8 then sum(dt.target_month8)
  when 9 then sum(dt.target_month9)
  when 10 then sum(dt.target_month10)
  when 11 then sum(dt.target_month11)
  when 12 then sum(dt.target_month12)
END as target,
'เคสที่ต้องทำ' as txt_name
FROM doctor_target dt, case_type ct
where dt.case_type_id = ct.case_type_id
and dt.year = $P{param_year}
group by ct.case_type
union all
select ct.case_type as case_type,count(vn_no) as actual,'เคสที่ทำได้' as txt_name
from patient_case pc, case_type ct
where pc.case_type_id = ct.case_type_id
group by ct.case_type) at
group by at.txt_name,at.case_type]]>
		</queryString>
		<field name="txt_name" class="java.lang.String"/>
		<field name="case_type" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="total" class="java.math.BigDecimal"/>
		<variable name="variable1" class="java.lang.String"/>
	</subDataset>
	<parameter name="param_year" class="java.lang.Integer"/>
	<parameter name="param_month" class="java.lang.Integer"/>
	<queryString>
		<![CDATA[select at.case_type,  at.procedure_name, sum(at.target) as case_make, sum(at.actual) as case_maked from
(select  ct.case_type as case_type, mp.procedure_name as procedure_name,
CASE $P{param_month}
  when 1 then sum(dt.target_month1)
  when 2 then sum(dt.target_month2)
  when 3 then sum(dt.target_month3)
  when 4 then sum(dt.target_month4)
  when 5 then sum(dt.target_month5)
  when 6 then sum(dt.target_month6)
  when 7 then sum(dt.target_month7)
  when 8 then sum(dt.target_month8)
  when 9 then sum(dt.target_month9)
  when 10 then sum(dt.target_month10)
  when 11 then sum(dt.target_month11)
  when 12 then sum(dt.target_month12)
END as target,
0 as actual
FROM doctor_target dt, case_type ct, medical_procedure mp
where dt.case_type_id = ct.case_type_id
and dt.procedure_id = mp.procedure_id
and dt.year = $P{param_year}
group by ct.case_type,  mp.procedure_name
union all
select ct.case_type as case_type, mp.procedure_name as procedure_name,
0 as target, count(vn_no) as actual
from patient_case pc, case_type ct, medical_procedure mp
where pc.case_type_id = ct.case_type_id
and pc.procedure_id = mp.procedure_id
group by ct.case_type, mp.procedure_name)  at
group by at.case_type, at.procedure_name]]>
	</queryString>
	<field name="case_type" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="procedure_name" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="case_make" class="java.math.BigDecimal"/>
	<field name="case_maked" class="java.math.BigDecimal"/>
	<variable name="case_make_1" class="java.math.BigDecimal" resetType="Group" resetGroup="procedure" calculation="Sum">
		<variableExpression><![CDATA[$F{case_make}]]></variableExpression>
	</variable>
	<variable name="case_maked_1" class="java.math.BigDecimal" resetType="Group" resetGroup="procedure" calculation="Sum">
		<variableExpression><![CDATA[$F{case_maked}]]></variableExpression>
	</variable>
	<variable name="variable1" class="java.lang.Integer"/>
	<group name="procedure" minHeightToStartNewPage="100">
		<groupExpression><![CDATA[$F{case_type}]]></groupExpression>
		<groupHeader>
			<band height="49">
				<staticText>
					<reportElement style="table_To" mode="Opaque" x="0" y="26" width="164" height="23" forecolor="#2B2B26" backcolor="#F0F0F0" uuid="eae04c99-8cfa-4991-85f5-4f5f313d3b7a"/>
					<box>
						<pen lineWidth="0.25"/>
						<topPen lineWidth="0.25"/>
						<leftPen lineWidth="0.25"/>
						<bottomPen lineWidth="0.25"/>
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="TH SarabunPSK" size="15" isBold="true"/>
					</textElement>
					<text><![CDATA[หัตถการ]]></text>
				</staticText>
				<staticText>
					<reportElement style="table_To" mode="Opaque" x="164" y="26" width="80" height="23" forecolor="#2B2B26" backcolor="#F0F0F0" uuid="f44aa2d4-a0f7-495a-820c-832c4fdf8237"/>
					<box>
						<pen lineWidth="0.25"/>
						<topPen lineWidth="0.25"/>
						<leftPen lineWidth="0.25"/>
						<bottomPen lineWidth="0.25"/>
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="TH SarabunPSK" size="15" isBold="true"/>
					</textElement>
					<text><![CDATA[จำนวนที่ต้องทำ]]></text>
				</staticText>
				<staticText>
					<reportElement style="table_To" mode="Opaque" x="244" y="26" width="76" height="23" forecolor="#2B2B26" backcolor="#F0F0F0" uuid="9ee11f0a-2540-4b3b-b112-384a2328dc21"/>
					<box>
						<pen lineWidth="0.25"/>
						<topPen lineWidth="0.25"/>
						<leftPen lineWidth="0.25"/>
						<bottomPen lineWidth="0.25"/>
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="TH SarabunPSK" size="15" isBold="true"/>
					</textElement>
					<text><![CDATA[จำนวนที่ทำได้]]></text>
				</staticText>
				<textField evaluationTime="Group" evaluationGroup="procedure">
					<reportElement style="table_To" x="0" y="0" width="320" height="26" uuid="8b034e14-a1c8-49bf-85a1-de78946807a5"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="TH SarabunPSK" size="16" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA["เคส "+$F{case_type}+" "+($V{case_make_1}+$V{case_maked_1})+" เคส"]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="444">
			<staticText>
				<reportElement x="0" y="0" width="414" height="32" forecolor="#2B2B26" uuid="c2ae9407-b289-4f27-bf25-d38e3791a461"/>
				<textElement verticalAlignment="Middle">
					<font fontName="TH SarabunPSK" size="24" isBold="true"/>
				</textElement>
				<text><![CDATA[รายงานจำนวนเคสที่ส่งอนุมัติ]]></text>
			</staticText>
			<line>
				<reportElement x="0" y="31" width="500" height="1" backcolor="#74C4C6" uuid="d05a909a-e03a-45fb-97d5-3c0be64cc8fb"/>
				<graphicElement>
					<pen lineWidth="2.5" lineColor="#74C4C6"/>
				</graphicElement>
			</line>
			<pieChart>
				<chart>
					<reportElement mode="Transparent" x="0" y="35" width="555" height="244" backcolor="#FFFFFF" uuid="990f5538-3bd2-41b2-bad2-c7d0541c07cb"/>
					<box>
						<pen lineColor="#000000"/>
						<topPen lineWidth="0.25" lineColor="rgba(204, 204, 204, 0.52156866)"/>
						<leftPen lineWidth="0.25" lineColor="rgba(204, 204, 204, 0.52156866)"/>
						<bottomPen lineWidth="0.25" lineColor="rgba(204, 204, 204, 0.52156866)"/>
						<rightPen lineWidth="0.25" lineColor="rgba(204, 204, 204, 0.52156866)"/>
					</box>
					<chartTitle position="Top" color="#2B2B26"/>
					<chartSubtitle/>
					<chartLegend backgroundColor="#FFFFFF" position="Right">
						<font fontName="TH SarabunPSK" size="14" isBold="true"/>
					</chartLegend>
				</chart>
				<pieDataset>
					<dataset>
						<datasetRun subDataset="ChartPie" uuid="11cee5b7-46f1-4ef1-94e2-475b932afc93">
							<datasetParameter name="param_year">
								<datasetParameterExpression><![CDATA[$P{param_year}]]></datasetParameterExpression>
							</datasetParameter>
							<datasetParameter name="param_month">
								<datasetParameterExpression><![CDATA[$P{param_month}]]></datasetParameterExpression>
							</datasetParameter>
						</datasetRun>
					</dataset>
					<keyExpression><![CDATA[$F{status}]]></keyExpression>
					<valueExpression><![CDATA[$F{no_of_case}]]></valueExpression>
				</pieDataset>
				<piePlot isShowLabels="true" isCircular="true" labelFormat="({2})" legendLabelFormat="{0}">
					<plot>
						<seriesColor seriesOrder="0" color="#00CC33"/>
						<seriesColor seriesOrder="1" color="#FF0000"/>
					</plot>
					<itemLabel color="rgba(43, 43, 38, 0.8627451)" backgroundColor="#FBF7E3">
						<font fontName="TH SarabunPSK" size="14"/>
					</itemLabel>
				</piePlot>
			</pieChart>
			<componentElement>
				<reportElement key="table 8" style="table 8" x="469" y="37" width="83" height="20" uuid="f46d73bb-3fb9-49f4-b852-458dc818ac5d"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="ChartPie" uuid="ff6e0984-67f0-461c-8dbb-80007539b56b">
						<datasetParameter name="param_year">
							<datasetParameterExpression><![CDATA[$P{param_year}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="param_month">
							<datasetParameterExpression><![CDATA[$P{param_month}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="36" uuid="b44791ef-0378-4556-855d-f75c0daa7b6a">
						<jr:tableFooter height="20" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="36" height="20" uuid="2c33400c-7ae7-4f2a-b741-4969fcba2f08"/>
								<textElement verticalAlignment="Middle">
									<font fontName="TH SarabunPSK" size="16" isBold="true"/>
								</textElement>
								<text><![CDATA[รวม]]></text>
							</staticText>
						</jr:tableFooter>
						<jr:detailCell style="table 8_TD" height="20" rowSpan="1">
							<textField>
								<reportElement x="0" y="0" width="36" height="20" uuid="7db5b362-8581-40bb-a99b-4c860816abd9"/>
								<textElement verticalAlignment="Middle">
									<font fontName="TH SarabunPSK" size="16" isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{status}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="47" uuid="bbeba688-2a16-4fd7-81a1-8241fc95b232">
						<jr:tableFooter height="20" rowSpan="1">
							<textField>
								<reportElement x="0" y="0" width="47" height="20" uuid="43bc94d3-5288-41cb-8c0b-8dcc747c8241"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="TH SarabunPSK" size="16" isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{toto_sum}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell style="table 8_TD" height="20" rowSpan="1">
							<textField>
								<reportElement x="0" y="0" width="47" height="20" uuid="0bdf432f-f410-4c4d-901b-06b98c6f3f59"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="TH SarabunPSK" size="16" isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{no_of_case}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
			<staticText>
				<reportElement x="0" y="283" width="555" height="23" uuid="112de921-8bcf-42e3-b73f-640aa2c6a27f"/>
				<textElement>
					<font fontName="TH SarabunPSK" size="18" isBold="true"/>
				</textElement>
				<text><![CDATA[รายละเอียดเคส]]></text>
			</staticText>
			<textField>
				<reportElement x="0" y="410" width="231" height="22" uuid="f35de569-f223-4f72-a3b5-5b6877c50adb"/>
				<textElement>
					<font fontName="TH SarabunPSK" size="18" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["ประสิทธิภาพในการทำงาน"]]></textFieldExpression>
			</textField>
			<crosstab>
				<reportElement x="0" y="306" width="555" height="104" uuid="e7d9f9db-e232-41f3-935d-501d448425e2"/>
				<crosstabDataset>
					<dataset>
						<datasetRun subDataset="detail_case" uuid="01b7c25f-3468-4e6b-99ee-ea9dcae149bd">
							<datasetParameter name="param_year">
								<datasetParameterExpression><![CDATA[$P{param_year}]]></datasetParameterExpression>
							</datasetParameter>
							<datasetParameter name="param_month">
								<datasetParameterExpression><![CDATA[$P{param_month}]]></datasetParameterExpression>
							</datasetParameter>
							<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
						</datasetRun>
					</dataset>
				</crosstabDataset>
				<rowGroup name="txt_name" width="70" totalPosition="End">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{txt_name}]]></bucketExpression>
					</bucket>
					<crosstabRowHeader>
						<cellContents backcolor="#F0F8FF" mode="Opaque">
							<box>
								<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<textField>
								<reportElement style="Crosstab Data Text" x="0" y="0" width="70" height="25" uuid="09768d3f-e8da-4bfa-9f0b-fbbeb094d927"/>
								<textFieldExpression><![CDATA[$V{txt_name}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabRowHeader>
					<crosstabTotalRowHeader>
						<cellContents backcolor="#BFE1FF" mode="Opaque">
							<box>
								<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<staticText>
								<reportElement x="0" y="0" width="70" height="26" uuid="d9c15943-1753-4d82-a655-b8b669f563f0"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<text><![CDATA[Total txt_name]]></text>
							</staticText>
							<staticText>
								<reportElement style="Crosstab Data Text" x="0" y="26" width="70" height="26" uuid="60c5a1ba-6adf-44e3-a6da-cc5bc892cf52"/>
								<text><![CDATA[val_first]]></text>
							</staticText>
							<staticText>
								<reportElement style="Crosstab Data Text" x="0" y="52" width="70" height="26" uuid="b9780dc2-e442-452f-84da-981fc8b717d9"/>
								<text><![CDATA[sum%]]></text>
							</staticText>
							<staticText>
								<reportElement style="Crosstab Data Text" x="0" y="78" width="70" height="26" uuid="4b4277be-cbe5-40c1-b8c6-407e2412974d"/>
								<text><![CDATA[performance]]></text>
							</staticText>
						</cellContents>
					</crosstabTotalRowHeader>
				</rowGroup>
				<columnGroup name="case_type" height="30" totalPosition="End">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{case_type}]]></bucketExpression>
					</bucket>
					<crosstabColumnHeader>
						<cellContents backcolor="#F0F8FF" mode="Opaque">
							<box>
								<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<textField>
								<reportElement style="Crosstab Data Text" x="0" y="0" width="56" height="30" uuid="86b0e536-baf8-47d3-ab25-d8ac0bf029f4"/>
								<textFieldExpression><![CDATA[$V{case_type}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabColumnHeader>
					<crosstabTotalColumnHeader>
						<cellContents backcolor="#BFE1FF" mode="Opaque">
							<box>
								<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<staticText>
								<reportElement x="0" y="0" width="50" height="30" uuid="b6649c81-7b5f-4c20-840a-0261f39f00d8"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<text><![CDATA[Total case_type]]></text>
							</staticText>
							<staticText>
								<reportElement style="Crosstab Data Text" x="50" y="0" width="50" height="30" uuid="12833345-321d-4822-95ed-ffaf0a73859f"/>
								<text><![CDATA[Static text]]></text>
							</staticText>
						</cellContents>
					</crosstabTotalColumnHeader>
				</columnGroup>
				<measure name="totalMeasure" class="java.math.BigDecimal" calculation="Sum">
					<measureExpression><![CDATA[$F{total}]]></measureExpression>
				</measure>
				<measure name="value_first" class="java.lang.Integer" calculation="First">
					<measureExpression><![CDATA[$F{total}]]></measureExpression>
				</measure>
				<measure name="sum_percent" class="java.lang.Integer" calculation="Count">
					<measureExpression><![CDATA[""]]></measureExpression>
				</measure>
				<measure name="count_casetype" class="java.lang.Integer" calculation="Count">
					<measureExpression><![CDATA[$F{total}]]></measureExpression>
				</measure>
				<measure name="average" class="java.lang.Integer" calculation="Count">
					<measureExpression><![CDATA[""]]></measureExpression>
				</measure>
				<measure name="toto_sum_percent" class="java.lang.Integer" calculation="Sum">
					<measureExpression><![CDATA[$F{total}]]></measureExpression>
				</measure>
				<crosstabCell width="56" height="25">
					<cellContents>
						<box>
							<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textField>
							<reportElement style="Crosstab Data Text" x="0" y="0" width="56" height="25" uuid="ab5ff1c8-d36f-473a-b7c3-298046fbb549"/>
							<textFieldExpression><![CDATA[$V{totalMeasure}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="56" height="104" rowTotalGroup="txt_name">
					<cellContents backcolor="#BFE1FF" mode="Opaque">
						<box>
							<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textField>
							<reportElement style="Crosstab Data Text" x="0" y="0" width="56" height="26" uuid="75db643f-015e-49de-8777-a0c26d2b52d3"/>
							<textFieldExpression><![CDATA[$V{totalMeasure}]]></textFieldExpression>
						</textField>
						<textField>
							<reportElement style="Crosstab Data Text" x="0" y="26" width="56" height="26" uuid="75822918-41af-4823-b0b2-1449a6bc6e71"/>
							<textFieldExpression><![CDATA[$V{value_first}]]></textFieldExpression>
						</textField>
						<textField>
							<reportElement style="Crosstab Data Text" x="0" y="52" width="56" height="26" uuid="5f19591a-3b67-4867-ae46-a9c0dca2f4f6"/>
							<textFieldExpression><![CDATA[

(($V{sum_percent}*100)/$V{value_first}>=100?100:($V{sum_percent}*100)/$V{value_first})]]></textFieldExpression>
						</textField>
						<textField>
							<reportElement style="Crosstab Data Text" x="0" y="78" width="56" height="26" uuid="87b5544e-ab2a-4472-8772-d09841fb3f9d"/>
							<textFieldExpression><![CDATA[$V{average}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="101" columnTotalGroup="case_type">
					<cellContents backcolor="#BFE1FF" mode="Opaque">
						<box>
							<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textField>
							<reportElement style="Crosstab Data Text" x="0" y="0" width="50" height="24" uuid="360ca1f0-3774-4bff-84bf-5f53566b3b0e"/>
							<textElement>
								<font size="9"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{totalMeasure}]]></textFieldExpression>
						</textField>
						<textField>
							<reportElement style="Crosstab Data Text" x="50" y="0" width="50" height="24" uuid="2cf375b8-bc0b-4eb5-ad6e-ac6e1113f735"/>
							<textElement>
								<font size="9"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{count_casetype}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="101" height="104" rowTotalGroup="txt_name" columnTotalGroup="case_type">
					<cellContents backcolor="#BFE1FF" mode="Opaque">
						<box>
							<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textField>
							<reportElement style="Crosstab Data Text" x="0" y="0" width="50" height="26" uuid="b0b5f68b-c6cc-45ef-9bf3-a409c2213dcd"/>
							<textFieldExpression><![CDATA[$V{totalMeasure}]]></textFieldExpression>
						</textField>
						<textField>
							<reportElement style="Crosstab Data Text" x="0" y="52" width="50" height="26" uuid="cffcc78e-ff92-424f-a22b-1f9ae2000764"/>
							<textFieldExpression><![CDATA[$V{sum_percent}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
			</crosstab>
		</band>
	</title>
	<pageHeader>
		<band height="86">
			<crosstab>
				<reportElement x="0" y="0" width="552" height="86" uuid="d057c2d5-155f-465c-a2b2-4265d0b7a9b3"/>
				<crosstabDataset>
					<dataset>
						<datasetRun subDataset="detail_case" uuid="9df94b39-da4a-4e38-a722-de8a854089ab">
							<datasetParameter name="param_year">
								<datasetParameterExpression><![CDATA[$P{param_year}]]></datasetParameterExpression>
							</datasetParameter>
							<datasetParameter name="param_month">
								<datasetParameterExpression><![CDATA[$P{param_month}]]></datasetParameterExpression>
							</datasetParameter>
							<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
						</datasetRun>
					</dataset>
				</crosstabDataset>
				<rowGroup name="txt_name" width="70" totalPosition="End">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{txt_name}]]></bucketExpression>
					</bucket>
					<crosstabRowHeader>
						<cellContents backcolor="#F0F8FF" mode="Opaque">
							<box>
								<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<textField>
								<reportElement style="Crosstab Data Text" x="0" y="0" width="70" height="25" uuid="7ae83161-5f55-463d-b422-b1d1294111bb"/>
								<textFieldExpression><![CDATA[$V{txt_name}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabRowHeader>
					<crosstabTotalRowHeader>
						<cellContents backcolor="#BFE1FF" mode="Opaque">
							<box>
								<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<staticText>
								<reportElement x="0" y="0" width="70" height="40" uuid="702b6a77-36cc-4e00-b4c9-bd6235b0099d"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<text><![CDATA[Total txt_name]]></text>
							</staticText>
							<staticText>
								<reportElement style="Crosstab Data Text" x="0" y="40" width="70" height="40" uuid="709ff850-68cb-4786-8f98-5b2d5143c126"/>
								<text><![CDATA[FIRST]]></text>
							</staticText>
							<staticText>
								<reportElement style="Crosstab Data Text" x="0" y="80" width="70" height="40" uuid="0e07b0dd-d71c-481b-8ae2-0a094107cc4c"/>
								<text><![CDATA[LAST]]></text>
							</staticText>
						</cellContents>
					</crosstabTotalRowHeader>
				</rowGroup>
				<columnGroup name="case_type" height="41">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{case_type}]]></bucketExpression>
					</bucket>
					<crosstabColumnHeader>
						<cellContents backcolor="#F0F8FF" mode="Opaque">
							<box>
								<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<textField>
								<reportElement style="Crosstab Data Text" x="0" y="0" width="50" height="40" uuid="ada1bde1-e538-4855-9890-d17808f53b63"/>
								<textFieldExpression><![CDATA[$V{case_type}]]></textFieldExpression>
							</textField>
							<staticText>
								<reportElement style="Crosstab Data Text" x="50" y="1" width="62" height="40" uuid="81c8b80b-7c40-4472-9465-eb31dafcdd89"/>
								<text><![CDATA[Static text]]></text>
							</staticText>
						</cellContents>
					</crosstabColumnHeader>
					<crosstabTotalColumnHeader>
						<cellContents/>
					</crosstabTotalColumnHeader>
				</columnGroup>
				<measure name="totalMeasure" class="java.math.BigDecimal" calculation="Sum">
					<measureExpression><![CDATA[$F{total}]]></measureExpression>
				</measure>
				<measure name="measure1" class="java.lang.Integer" calculation="Count">
					<measureExpression><![CDATA[""]]></measureExpression>
				</measure>
				<measure name="measure2" class="java.lang.Integer" calculation="First">
					<measureExpression><![CDATA[$F{total}]]></measureExpression>
				</measure>
				<measure name="measure3" class="java.lang.Integer" calculation="Highest">
					<measureExpression><![CDATA[$F{total}]]></measureExpression>
				</measure>
				<crosstabCell width="112" height="25">
					<cellContents>
						<box>
							<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textField>
							<reportElement style="Crosstab Data Text" x="0" y="0" width="50" height="25" uuid="5be64142-7711-4a9d-bfe8-765a0a8ebde9"/>
							<textElement>
								<font size="9"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{totalMeasure}]]></textFieldExpression>
						</textField>
						<textField>
							<reportElement style="Crosstab Data Text" x="50" y="0" width="62" height="25" uuid="47668370-e1c9-4742-b303-6c75fe3b5234"/>
							<textElement>
								<font size="9"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{measure3}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="112" height="121" rowTotalGroup="txt_name">
					<cellContents backcolor="#BFE1FF" mode="Opaque">
						<box>
							<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textField>
							<reportElement style="Crosstab Data Text" x="0" y="0" width="112" height="40" uuid="3f4e7a85-3cbd-45be-b155-3dbe01ca7706"/>
							<textFieldExpression><![CDATA[$V{totalMeasure}]]></textFieldExpression>
						</textField>
						<textField>
							<reportElement style="Crosstab Data Text" x="0" y="40" width="112" height="40" uuid="5adfff66-0176-4874-8c36-8bf81de04ad4"/>
							<textFieldExpression><![CDATA[($V{measure1}*100)/$V{measure2}]]></textFieldExpression>
						</textField>
						<textField>
							<reportElement style="Crosstab Data Text" x="0" y="80" width="112" height="40" uuid="db788be8-5b04-4157-a364-43e648f35f58"/>
							<textFieldExpression><![CDATA[$V{measure2}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="50" columnTotalGroup="case_type">
					<cellContents backcolor="#BFE1FF" mode="Opaque">
						<box>
							<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textField>
							<reportElement style="Crosstab Data Text" x="0" y="0" width="50" height="25" uuid="323efe94-7041-4ca9-ad01-44a7e0e8e1ad"/>
							<textFieldExpression><![CDATA[$V{totalMeasure}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell rowTotalGroup="txt_name" columnTotalGroup="case_type">
					<cellContents backcolor="#BFE1FF" mode="Opaque">
						<box>
							<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textField>
							<reportElement style="Crosstab Data Text" x="0" y="0" width="50" height="25" uuid="39f0ba64-a15b-4729-afc7-6781c8ba13fa"/>
							<textFieldExpression><![CDATA[$V{totalMeasure}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
			</crosstab>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="32">
			<staticText>
				<reportElement x="0" y="0" width="320" height="23" uuid="eb964baa-53c5-4f98-a58c-159d41d70c6c"/>
				<textElement>
					<font fontName="TH SarabunPSK" size="18" isBold="true"/>
				</textElement>
				<text><![CDATA[รายละเอียดหัตถการ]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="20">
			<textField>
				<reportElement style="table_TD" x="0" y="0" width="164" height="20" uuid="91b2fe56-ef48-4b66-8b71-e80198598988"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="TH SarabunPSK" size="16"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{procedure_name}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="table_TD" x="164" y="0" width="80" height="20" uuid="f6540121-5504-490a-a0da-1113fd36b1b9"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="TH SarabunPSK" size="16"/>
					<paragraph rightIndent="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{case_make}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="table_TD" x="244" y="0" width="76" height="20" uuid="8035ff52-78ae-43c8-814f-f258c2188377"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="TH SarabunPSK" size="16"/>
					<paragraph rightIndent="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{case_maked}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
